const translations = {
    ar: {
        heroTitle: "Ø£Ù‡Ù„Ø§Ù‹ØŒ Ø£Ù†Ø§ Ø¹Ø¨Ø¯ Ø§Ù„Ø±Ø­Ù…Ù† Ø¹ØµØ¨Ø§Ù† ðŸ‘‹",
        staticTxt: "Ø£Ù†Ø§ ",
        typingTexts: ["Ù…Ø·ÙˆØ± Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ", "Ù…Ù‡Ù†Ø¯Ø³ Ø¨Ø±Ù…Ø¬ÙŠØ§Øª", "Ø®Ø¨ÙŠØ± Ø£Ù†Ø¸Ù…Ø© RAG", "Ø·Ø§Ù„Ø¨ ÙÙŠ APU"],
        btnContact: "ØªÙˆØ§ØµÙ„ Ù…Ø¹ÙŠ", btnProjects: "Ù…Ø´Ø§Ø±ÙŠØ¹ÙŠ",
        aiTitle: "ðŸ¤– Ø§Ø³Ø£Ù„ 'Ø¯Ø­Ù…Ø§Ù† Ø¨ÙˆØª' Ø¹Ù†ÙŠ", aiSub: "Ù…Ø³Ø§Ø¹Ø¯ÙŠ Ø§Ù„Ø´Ø®ØµÙŠ",
        expTitle: "Ø§Ù„Ø®Ø¨Ø±Ø§Øª ÙˆØ§Ù„ØªØ¹Ù„ÙŠÙ…", 
        exp1: "ØªØ¯Ø±ÙŠØ¨ Ù…Ù‡Ù†ÙŠ Ù„Ù…Ø¯Ø© 4 Ø£Ø´Ù‡Ø± ÙÙŠ Ø§Ù„Ø±ÙŠØ§Ø¶. ØªØµÙ…ÙŠÙ… ÙˆØªØ·ÙˆÙŠØ± Ø£Ù†Ø¸Ù…Ø© RAG Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… LLMsØŒ ÙˆØ¯Ù…Ø¬ Ø­Ù„ÙˆÙ„ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ ÙÙŠ Ù…Ù†ØªØ¬Ø§Øª Ø­Ù‚ÙŠÙ‚ÙŠØ©.", 
        edu1: "Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø¹Ù„ÙˆÙ… Ø­Ø§Ø³Ø¨ (Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ) Ù…Ø¹ Ù…Ø±ØªØ¨Ø© Ø§Ù„Ø´Ø±Ù. Ø´Ù‡Ø§Ø¯Ø© Ù…Ø²Ø¯ÙˆØ¬Ø© Ù…Ø¹ Ø¬Ø§Ù…Ø¹Ø© De Montfort Ø§Ù„Ø¨Ø±ÙŠØ·Ø§Ù†ÙŠØ©.",
        skillsTitle: "Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„ØªÙ‚Ù†ÙŠØ©",
        catProg: "ðŸ’» Ù„ØºØ§Øª Ø§Ù„Ø¨Ø±Ù…Ø¬Ø©", catAi: "ðŸ¤– Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ", catWeb: "ðŸŒ Ø§Ù„ÙˆÙŠØ¨ ÙˆØ§Ù„Ø³Ø­Ø§Ø¨Ø©", catDb: "ðŸ—„ï¸ Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ù…ÙØ§Ù‡ÙŠÙ…",
        projectsTitle: "Ø£Ø¨Ø±Ø² Ù…Ø´Ø§Ø±ÙŠØ¹ÙŠ", projectsSub: "Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…Ù† Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© ÙˆØ§Ù„Ø´Ø®ØµÙŠØ© Ø§Ù„ØªÙŠ ØªØ¹ÙƒØ³ Ø®Ø¨Ø±ØªÙŠ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©",
        p1Title: "Portfolio & RAG Chatbot", p1Desc: "Ù…ÙˆÙ‚Ø¹ Ø´Ø®ØµÙŠ Ù…ØªÙƒØ§Ù…Ù„ Ù…Ø¯Ù…Ø¬ Ø¨Ø¨ÙˆØª Ù…Ø­Ø§Ø¯Ø«Ø© Ø°ÙƒÙŠ Ù…Ø¯Ø±Ø¨ Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ø³ÙŠØ±ØªÙŠ Ø§Ù„Ø°Ø§ØªÙŠØ©.",
        p2Title: "AI Housing Chatbot", p2Desc: "Ø¨ÙˆØª Ù…Ø­Ø§Ø¯Ø«Ø© Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© Ø·Ù„Ø§Ø¨ Ø§Ù„Ø¬Ø§Ù…Ø¹Ø© ÙÙŠ Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø³ÙƒÙ† Ù…Ù†Ø§Ø³Ø¨ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ù‚Ø§Ø¹Ø¯Ø© Ù…Ø¹Ø±ÙØ©.",
        p3Title: "Booking System", p3Desc: "Ù†Ø¸Ø§Ù… Ø­Ø¬Ø² ÙÙ†Ø§Ø¯Ù‚ ÙˆØ±Ø­Ù„Ø§Øª Ø·ÙŠØ±Ø§Ù† Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙŠØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© Ø§Ù„ÙƒØ§Ø¦Ù†ÙŠØ©.",
        p4Title: "Car Maintenance System", p4Desc: "ØªØ·Ø¨ÙŠÙ‚ Ø³Ø·Ø­ Ù…ÙƒØªØ¨ Ù„Ø¥Ø¯Ø§Ø±Ø© Ø´Ø±ÙƒØ© ØµÙŠØ§Ù†Ø© Ø³ÙŠØ§Ø±Ø§Øª Ù…Ø¹ ÙˆØ§Ø¬Ù‡Ø© Ø±Ø³ÙˆÙ…ÙŠØ© ÙˆØµÙ„Ø§Ø­ÙŠØ§Øª Ù…ØªØ¹Ø¯Ø¯Ø©.",
        p5Title: "PyLearn Platform", p5Desc: "Ù…Ù†ØµØ© ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ù…ØªÙƒØ§Ù…Ù„Ø© Ù„ØªØ¯Ø±ÙŠØ³ Ù„ØºØ© Ø¨Ø§ÙŠØ«ÙˆÙ† Ù„Ù„Ù…Ø¨ØªØ¯Ø¦ÙŠÙ† Ù…Ø¹ Ù†Ø¸Ø§Ù… Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª ÙˆØ´Ù‡Ø§Ø¯Ø§Øª.",
        p6Title: "Data Analysis Project", p6Desc: "ØªÙ†Ø¸ÙŠÙ ÙˆØªØ­Ù„ÙŠÙ„ Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ø¨ÙŠØ§Ù†Ø§Øª Ø¶Ø®Ù…Ø© ÙˆØ§Ø³ØªØ®Ø±Ø§Ø¬ Ø±Ø¤Ù‰ Ø¥Ø­ØµØ§Ø¦ÙŠØ© ÙˆØ¹Ø±Ø¶Ù‡Ø§ Ø¨ØµØ±ÙŠØ§Ù‹.",
        p7Title: "Mushroom Chaos Game", p7Desc: "Ù„Ø¹Ø¨Ø© Ù…Ù†ØµØ§Øª 2D Ù…Ø³ØªÙˆØ­Ø§Ø© Ù…Ù† Ù…Ø§Ø±ÙŠÙˆØŒ ØªØªØ¶Ù…Ù† ÙÙŠØ²ÙŠØ§Ø¡ Ø§Ù„Ù„Ø¹Ø¨ ÙˆØ§ÙƒØªØ´Ø§Ù Ø§Ù„ØªØµØ§Ø¯Ù….",
        p8Title: "Email Server System", p8Desc: "Ø¨Ù†Ø§Ø¡ Ø¨Ù†ÙŠØ© ØªØ­ØªÙŠØ© ÙƒØ§Ù…Ù„Ø© Ù„Ø®Ø§Ø¯Ù… Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ÙˆØ¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø´Ø¨ÙƒØ§Øª Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø£Ù†Ø¸Ù…Ø© Ø§Ù„ÙˆÙ‡Ù…ÙŠØ©.",
        aiWelcome: "Ù‡Ù„Ø§! Ø£Ù†Ø§ Ø¯Ø­Ù…Ø§Ù† Ø¨ÙˆØª. Ø§Ø³Ø£Ù„Ù†ÙŠ Ø£ÙŠ Ø´ÙŠØ¡ Ø¹Ù† Ø¹Ø¨Ø¯ Ø§Ù„Ø±Ø­Ù…Ù† Ù…Ù† Ø§Ù„Ù€ CV Ø­Ù‚Ù‡! ðŸ˜Ž",
        sendBtn: "Ø¥Ø±Ø³Ø§Ù„", inputPlaceholder: "Ø§ÙƒØªØ¨ Ø³Ø¤Ø§Ù„Ùƒ Ù‡Ù†Ø§...",
        contactTitle: "Ø£Ø±Ø³Ù„ Ù„ÙŠ Ø±Ø³Ø§Ù„Ø© ðŸ“©", contactName: "Ø§Ù„Ø§Ø³Ù…", contactEmail: "Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„", contactMsg: "Ø§Ù„Ø±Ø³Ø§Ù„Ø©...", btnSendEmail: "Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¢Ù†",
        btnDownloadCV: "ðŸ“¥ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù€ CV"
    },
    en: {
        heroTitle: "Hi, I'm Abdulrahman Asban ðŸ‘‹",
        staticTxt: "I am an ",
        typingTexts: ["AI Developer", "Software Engineer", "RAG Systems Expert", "Student at APU"],
        btnContact: "Contact Me", btnProjects: "My Projects",
        aiTitle: "ðŸ¤– Ask 'DahmanBot'", aiSub: "My Personal Assistant",
        expTitle: "Experience & Education", 
        exp1: "4-month internship in Riyadh. Designed RAG systems using LLMs and integrated AI solutions into real products.", 
        edu1: "BSc Computer Science (AI) with Honors. Dual Award with De Montfort University, UK.",
        skillsTitle: "Technical Skills",
        catProg: "ðŸ’» Programming Languages", catAi: "ðŸ¤– AI & Data", catWeb: "ðŸŒ Web & Cloud", catDb: "ðŸ—„ï¸ Databases & Concepts",
        projectsTitle: "Featured Projects", projectsSub: "A collection of academic and personal projects reflecting my expertise",
        p1Title: "Portfolio & RAG Chatbot", p1Desc: "Personal portfolio with an integrated RAG-powered chatbot trained on my resume.",
        p2Title: "AI Housing Chatbot", p2Desc: "A chatbot to help university students find accommodation based on a knowledge base.",
        p3Title: "Booking System", p3Desc: "Multi-user hotel and flight booking system based on OOP principles.",
        p4Title: "Car Maintenance System", p4Desc: "Desktop application for managing a car maintenance company with multiple roles.",
        p5Title: "PyLearn Platform", p5Desc: "Educational web platform teaching Python to beginners with quizzes and certificates.",
        p6Title: "Data Analysis Project", p6Desc: "Cleaning, analyzing, and visualizing large datasets using R language and statistics.",
        p7Title: "Mushroom Chaos Game", p7Desc: "2D platformer game inspired by Mario, featuring physics and collision detection.",
        p8Title: "Email Server System", p8Desc: "Complete email server infrastructure and network administration using virtual machines.",
        aiWelcome: "Hey! I'm DahmanBot. Ask me anything about Abdulrahman based on his CV! ðŸ˜Ž",
        sendBtn: "Send", inputPlaceholder: "Type your question...",
        contactTitle: "Send me a message ðŸ“©", contactName: "Name", contactEmail: "Email", contactMsg: "Message...", btnSendEmail: "Send Now",
        btnDownloadCV: "ðŸ“¥ Download CV"
    }
};

// 1. Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø§Ù„Ù„ØºØ© Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø© Ø£Ùˆ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¹Ø±Ø¨ÙŠ ÙƒØ§ÙØªØ±Ø§Ø¶ÙŠ
let currentLang = localStorage.getItem('savedLang') || 'en';
const langToggle = document.getElementById('langToggle');

// 2. ØªØ·Ø¨ÙŠÙ‚ ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ù„ØºØ© ÙˆØ­ÙØ¸Ù‡Ø§
langToggle.addEventListener('change', function() {
    let selected = this.checked ? 'ar' : 'en';
    setLanguage(selected);
    localStorage.setItem('savedLang', selected);
});

function setLanguage(lang) {
    currentLang = lang;
    const t = translations[lang];
    const body = document.body;

    document.getElementById('hero-title').innerText = t.heroTitle;
    document.getElementById('static-txt').innerText = t.staticTxt;
    document.getElementById('btn-contact').innerText = t.btnContact;
    document.getElementById('btn-projects').innerText = t.btnProjects;
    
    let downloadBtn = document.getElementById('btn-download-cv');
    if(downloadBtn) downloadBtn.innerText = t.btnDownloadCV;

    document.getElementById('ai-title').innerText = t.aiTitle;
    document.getElementById('ai-sub').innerText = t.aiSub;
    document.getElementById('exp-title').innerText = t.expTitle;
    document.getElementById('exp-1').innerText = t.exp1;
    document.getElementById('edu-1').innerText = t.edu1;
    document.getElementById('skills-title').innerText = t.skillsTitle;
    
    document.getElementById('cat-prog').innerText = t.catProg;
    document.getElementById('cat-ai').innerText = t.catAi;
    document.getElementById('cat-web').innerText = t.catWeb;
    document.getElementById('cat-db').innerText = t.catDb;

    document.getElementById('projects-title').innerText = t.projectsTitle;
    document.getElementById('projects-sub').innerText = t.projectsSub;

    document.getElementById('p1-title').innerText = t.p1Title;
    document.getElementById('p1-desc').innerText = t.p1Desc;
    document.getElementById('p2-title').innerText = t.p2Title;
    document.getElementById('p2-desc').innerText = t.p2Desc;
    document.getElementById('p3-title').innerText = t.p3Title;
    document.getElementById('p3-desc').innerText = t.p3Desc;
    document.getElementById('p4-title').innerText = t.p4Title;
    document.getElementById('p4-desc').innerText = t.p4Desc;
    document.getElementById('p5-title').innerText = t.p5Title;
    document.getElementById('p5-desc').innerText = t.p5Desc;
    document.getElementById('p6-title').innerText = t.p6Title;
    document.getElementById('p6-desc').innerText = t.p6Desc;
    document.getElementById('p7-title').innerText = t.p7Title;
    document.getElementById('p7-desc').innerText = t.p7Desc;
    document.getElementById('p8-title').innerText = t.p8Title;
    document.getElementById('p8-desc').innerText = t.p8Desc;

    document.getElementById('btn-send').innerText = t.sendBtn;
    document.getElementById('user-input').placeholder = t.inputPlaceholder;
    document.getElementById('ai-welcome').innerText = t.aiWelcome;

    let contactTitle = document.getElementById('contact-title');
    if(contactTitle) contactTitle.innerText = t.contactTitle;
    
    let contactName = document.getElementById('contact-name');
    if(contactName) contactName.placeholder = t.contactName;
    
    let contactEmail = document.getElementById('contact-email');
    if(contactEmail) contactEmail.placeholder = t.contactEmail;
    
    let contactMsg = document.getElementById('contact-msg');
    if(contactMsg) contactMsg.placeholder = t.contactMsg;
    
    let btnSendEmail = document.getElementById('btn-send-email');
    if(btnSendEmail) btnSendEmail.innerText = t.btnSendEmail;

    if (lang === 'ar') {
        body.classList.remove('ltr'); body.classList.add('rtl'); body.setAttribute('dir', 'rtl');
    } else {
        body.classList.remove('rtl'); body.classList.add('ltr'); body.setAttribute('dir', 'ltr');
    }
}

// 3. ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ø«ÙŠÙ…
const themeBtn = document.getElementById('theme-toggle');

if (localStorage.getItem('savedTheme') === 'dark') {
    document.body.classList.add('dark-mode');
    themeBtn.innerText = 'â˜€ï¸';
}

themeBtn.addEventListener('click', () => {
    document.body.classList.toggle('dark-mode');
    let isDark = document.body.classList.contains('dark-mode');
    themeBtn.innerText = isDark ? 'â˜€ï¸' : 'ðŸŒ™';
    localStorage.setItem('savedTheme', isDark ? 'dark' : 'light');
});

// 4. ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
document.addEventListener("DOMContentLoaded", () => {
    setLanguage(currentLang);
    langToggle.checked = (currentLang === 'ar');
    typeWriter();
});

// Ø¯Ø§Ù„Ø© Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø´Ø§Øª
async function sendMessage() {
    let inputField = document.getElementById("user-input");
    let message = inputField.value;
    if (message.trim() === "") return;

    let chatBox = document.getElementById("chat-box");
    
    chatBox.innerHTML += `<div class="message user">${message}</div>`;
    inputField.value = "";
    chatBox.scrollTop = chatBox.scrollHeight;

    let typingId = "typing-" + Date.now();
    
    chatBox.innerHTML += `
        <div id="${typingId}" class="typing-indicator">
            <span></span><span></span><span></span>
        </div>
    `;
    chatBox.scrollTop = chatBox.scrollHeight;

    try {
        let response = await fetch("/ask_ai", {
            method: "POST", headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ message: message, lang: currentLang })
        });
        let data = await response.json();
        
        let typingElement = document.getElementById(typingId);
        if (typingElement) typingElement.remove();

        let formattedAnswer = data.answer.replace(/\*\*(.*?)\*\*/g, "<strong>$1</strong>");
        chatBox.innerHTML += `<div class="message bot">${formattedAnswer}</div>`;
    } catch (e) {
        let typingElement = document.getElementById(typingId);
        if (typingElement) typingElement.remove();
        chatBox.innerHTML += `<div class="message bot">Ø¹Ø°Ø±Ø§Ù‹ØŒ Ø­Ø¯Ø« Ø®Ø·Ø£! ðŸ”Œ</div>`;
    }
    chatBox.scrollTop = chatBox.scrollHeight;
}

// Enter ÙÙŠ Ø§Ù„Ø´Ø§Øª
document.getElementById("user-input").addEventListener("keypress", function(event) {
    if (event.key === "Enter") {
        event.preventDefault(); 
        sendMessage();
    }
});

// âœ… Contact Form - EmailJS
async function sendEmail() {
    const name = document.getElementById('contact-name').value;
    const email = document.getElementById('contact-email').value;
    const message = document.getElementById('contact-msg').value;
    const status = document.getElementById('email-status');

    if (!name || !email || !message) {
        status.innerText = currentLang === 'ar' ? "Ø£ÙƒÙ…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª!" : "Fill all fields!";
        status.style.color = "red";
        return;
    }

    status.innerText = currentLang === 'ar' ? "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„..." : "Sending...";
    status.style.color = "blue";

    try {
        await emailjs.send("service_0dlsqkt", "template_ae8bjts", {
            from_name: name,
            email: email,
            message: message
        });

        status.innerText = currentLang === 'ar' ? "ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¨Ù†Ø¬Ø§Ø­! âœ…" : "Sent Successfully! âœ…";
        status.style.color = "green";
        document.getElementById('contact-name').value = "";
        document.getElementById('contact-email').value = "";
        document.getElementById('contact-msg').value = "";

    } catch (e) {
        console.error(e);
        status.innerText = currentLang === 'ar' ? "ÙØ´Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ âŒ" : "Failed to send âŒ";
        status.style.color = "red";
    }
}

// Typing Effect
const typingElement = document.getElementById("typing-text");
let textIndex = 0; let charIndex = 0; let isDeleting = false;
function typeWriter() {
    const currentTexts = translations[currentLang].typingTexts;
    const currentText = currentTexts[textIndex];
    if (isDeleting) { typingElement.textContent = currentText.substring(0, charIndex - 1); charIndex--; } 
    else { typingElement.textContent = currentText.substring(0, charIndex + 1); charIndex++; }

    if (!isDeleting && charIndex === currentText.length) { isDeleting = true; setTimeout(typeWriter, 2000); } 
    else if (isDeleting && charIndex === 0) { isDeleting = false; textIndex = (textIndex + 1) % currentTexts.length; setTimeout(typeWriter, 500); } 
    else { setTimeout(typeWriter, isDeleting ? 50 : 100); }
}

// Scroll Animations
const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => { if (entry.isIntersecting) entry.target.classList.add("active"); });
});
document.querySelectorAll(".reveal, .reveal-up, .reveal-left, .reveal-right").forEach(el => observer.observe(el));

// Particles.js
document.addEventListener("DOMContentLoaded", function() {
    let isDark = document.body.classList.contains('dark-mode');
    let particleColor = isDark ? "#58a6ff" : "#2c3e50";
    let lineColor = isDark ? "#30363d" : "#bdc3c7";

    particlesJS("particles-js", {
        "particles": {
            "number": { "value": 60, "density": { "enable": true, "value_area": 800 } },
            "color": { "value": particleColor },
            "shape": { "type": "circle" },
            "opacity": { "value": 0.5, "random": false },
            "size": { "value": 3, "random": true },
            "line_linked": {
                "enable": true,
                "distance": 150,
                "color": lineColor,
                "opacity": 0.4,
                "width": 1
            },
            "move": {
                "enable": true,
                "speed": 2,
                "direction": "none",
                "random": false,
                "straight": false,
                "out_mode": "out",
                "bounce": false,
            }
        },
        "interactivity": {
            "detect_on": "canvas",
            "events": {
                "onhover": { "enable": true, "mode": "grab" },
                "onclick": { "enable": true, "mode": "push" },
                "resize": true
            },
            "modes": {
                "grab": { "distance": 140, "line_linked": { "opacity": 1 } },
                "push": { "particles_nb": 4 }
            }
        },
        "retina_detect": true
    });
});

function toggleContact() {
    const menu = document.getElementById('floatMenu');
    menu.classList.toggle('active');
}

// Scroll to Top
const scrollTopBtn = document.getElementById('scrollTopBtn');

window.addEventListener('scroll', () => {
    if (window.scrollY > 300) {
        scrollTopBtn.classList.add('visible');
    } else {
        scrollTopBtn.classList.remove('visible');
    }
});

function scrollToTop() {
    window.scrollTo({ top: 0, behavior: 'smooth' });
}